

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Contributing &mdash; Cyclops 1.0.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Cyclops 1.0.1 documentation" href="index.html"/>
        <link rel="next" title="License" href="license.html"/>
        <link rel="prev" title="Configuration" href="getting-started/configuration.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Cyclops
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting-started/getting-started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#api-documentation">API Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#code-style">Code Style</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general">General</a></li>
<li class="toctree-l3"><a class="reference internal" href="#express-router">Express Router</a></li>
<li class="toctree-l3"><a class="reference internal" href="#typescript-redux">Typescript Redux</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#actions">actions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reducer">reducer</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#directory-structure">Directory Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#root">Root</a></li>
<li class="toctree-l3"><a class="reference internal" href="#react">React</a></li>
<li class="toctree-l3"><a class="reference internal" href="#express">Express</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tests">Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scss">SCSS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build">Build</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#testing">Testing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tests-react">React</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tests-express">Express</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#development-environment">Development Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#npm-tasks">NPM Tasks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Cyclops</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Contributing</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/contributing.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="contributing">
<span id="id1"></span><h1>Contributing<a class="headerlink" href="#contributing" title="Permalink to this headline">¶</a></h1>
<div class="section" id="api-documentation">
<span id="api-docs"></span><h2>API Documentation<a class="headerlink" href="#api-documentation" title="Permalink to this headline">¶</a></h2>
<p>Documentation for the Cyclops API is generated by following command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ npm run docs
</pre></div>
</div>
<p>This will create HTML in a directory named <cite>docs</cite> that outlines all the individual components that make up the the express server and react application, and creates search functionality for all those components.</p>
</div>
<div class="section" id="code-style">
<span id="id2"></span><h2>Code Style<a class="headerlink" href="#code-style" title="Permalink to this headline">¶</a></h2>
<div class="section" id="general">
<h3>General<a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h3>
<p>The style uses <a class="reference external" href="https://github.com/Microsoft/TypeScript/wiki/Coding-guidelines">Typescript&#8217;s coding guidelines</a> and <a class="reference external" href="https://palantir.github.io/tslint/">TSLint rules</a> with a few exceptions. These exceptions are outlined in the <code class="docutils literal"><span class="pre">tslint.json</span></code> file at the root of the project directory.</p>
<p>Make sure to run TSLint before making a pull request.</p>
</div>
<div class="section" id="express-router">
<span id="code-style-express-router"></span><h3>Express Router<a class="headerlink" href="#express-router" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="p">{</span> <span class="n">Router</span><span class="p">,</span> <span class="n">RequestHandler</span> <span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;express&#39;</span><span class="p">;</span>

<span class="n">export</span> <span class="k">class</span> <span class="nc">NewRouter</span> <span class="p">{</span>
  <span class="o">/**</span> <span class="n">Express</span> <span class="n">router</span> <span class="nb">object</span><span class="o">.</span> <span class="o">*/</span>
  <span class="n">public</span> <span class="n">router</span><span class="p">:</span> <span class="n">Router</span><span class="p">;</span>

  <span class="n">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">this</span><span class="o">.</span><span class="n">router</span> <span class="o">=</span> <span class="n">Router</span><span class="p">();</span>
    <span class="n">this</span><span class="o">.</span><span class="n">middleware</span><span class="p">();</span>
    <span class="n">this</span><span class="o">.</span><span class="n">routes</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="o">/**</span> <span class="n">Handles</span> <span class="n">a</span> <span class="n">routes</span> <span class="n">request</span> <span class="o">*/</span>
  <span class="n">public</span> <span class="n">route</span><span class="p">:</span> <span class="n">RequestHandler</span> <span class="o">=</span> <span class="p">(</span><span class="n">req</span><span class="p">,</span> <span class="n">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{};</span>

  <span class="o">/**</span>
   <span class="o">*</span> <span class="n">Configures</span> <span class="n">middleware</span> <span class="k">for</span> <span class="n">this</span> <span class="n">router</span><span class="o">.</span>
   <span class="o">*/</span>
  <span class="n">private</span> <span class="n">middleware</span><span class="p">():</span> <span class="n">void</span> <span class="p">{</span>
    <span class="n">this</span><span class="o">.</span><span class="n">router</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="n">URL</span><span class="p">,</span> <span class="n">middleware</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="o">/**</span>
   <span class="o">*</span> <span class="n">Configure</span> <span class="n">routes</span> <span class="k">for</span> <span class="n">this</span> <span class="n">router</span><span class="o">.</span>
   <span class="o">*/</span>
  <span class="n">private</span> <span class="n">routes</span><span class="p">():</span> <span class="n">void</span> <span class="p">{</span>
    <span class="n">this</span><span class="o">.</span><span class="n">router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="n">this</span><span class="o">.</span><span class="n">route</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Whenever you need to use the router, just call <code class="docutils literal"><span class="pre">new</span> <span class="pre">NewRouter().router</span></code>.</p>
</div>
<div class="section" id="typescript-redux">
<span id="code-style-typescript-redux"></span><h3>Typescript Redux<a class="headerlink" href="#typescript-redux" title="Permalink to this headline">¶</a></h3>
<p>There&#8217;s a specific way to write redux actions and reducers that make it type safe. There are a few utilities and types to help with this process.</p>
<div class="section" id="actions">
<span id="code-style-typescript-redux-actions"></span><h4>actions<a class="headerlink" href="#actions" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default"><div class="highlight"><pre><span></span>// Helper function that creates a type safe action.
import { createAction } from &#39;utils/createReduxAction&#39;;
import {
  // Redux action type.
  ReduxAction,

  // Thunk action type that returns a promise.
  ThunkActionPromise,

  // Thunk action that doesn&#39;t return anything.
  ThunkActionVoid,
} from &#39;types/redux&#39;;

/**
 * Action type prefix to differentiate this set of actions from another
 * set of actions.
 * @type {string}
 */
const ACTION_PREFIX = &#39;NAME&#39;;

// --------------------------------------------------------------------------
// CHANGE_NAME
// --------------------------------------------------------------------------

/**
 * Action Type: Action description goes here.
 * @type {string}
 */
export const CHANGE_NAME = `${ACTION_PREFIX}/CHANGE_NAME`;

/** CHANGE_NAME payload type. */
export type ChangeNamePayload = string;

/** CHANGE_NAME action type. */
export type ChangeNameAction = ReduxAction&lt;ChangeNamePayload&gt;;

/**
 * Creates a(n) CHANGE_NAME action.
 * @returns {ChangeNameAction}
 */
export function changeName(payload: string): ChangeNameAction {
  return createAction(EXAMPLE, payload);
}

// --------------------------------------------------------------------------
// Thunk Actions
// --------------------------------------------------------------------------

/**
 * Returns a redux thunk action that returns a promise.
 * @param arg Example argument
 * @returns {ThunkActionPromise}
 */
export function thunkPromise(arg: string): ThunkActionPromise {
  return (dispatch, getState) =&gt; {
    return promise(arg).then((response) =&gt; {
      dispatch(changeName(response))
    });
  };
}

/**
 * Returns a redux thunk action that returns nothing.
 * @param arg Example argument
 * @returns {ThunkActionPromise}
 */
export function thunkVoid(arg: string): ThunkActionVoid {
  return (dispatch, getState) =&gt; {
    dispatch(changeName(arg));
  };
}
</pre></div>
</div>
</div>
<div class="section" id="reducer">
<span id="code-style-typescript-redux-reducer"></span><h4>reducer<a class="headerlink" href="#reducer" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Third</span> <span class="n">party</span> <span class="n">library</span> <span class="n">that</span> <span class="n">helps</span> <span class="n">create</span> <span class="n">redux</span> <span class="n">reducers</span> <span class="ow">and</span> <span class="n">actions</span><span class="o">.</span>
<span class="kn">import</span> <span class="p">{</span>
  <span class="o">//</span> <span class="n">Creates</span> <span class="n">the</span> <span class="n">reducer</span> <span class="k">for</span> <span class="n">us</span> <span class="kn">from</span> <span class="nn">a</span> <span class="n">reducer</span> <span class="nb">map</span><span class="o">.</span>
  <span class="n">handleActions</span><span class="p">,</span>
  <span class="o">//</span> <span class="n">Object</span> <span class="nb">type</span> <span class="n">that</span> <span class="n">holds</span> <span class="n">indexed</span> <span class="n">reducer</span> <span class="n">functions</span><span class="o">.</span>
  <span class="n">ReducerMap</span><span class="p">,</span>
<span class="p">}</span> <span class="kn">from</span> <span class="s1">&#39;redux-actions&#39;</span><span class="p">;</span>
<span class="kn">import</span> <span class="o">*</span> <span class="k">as</span> <span class="n">_</span> <span class="kn">from</span> <span class="s1">&#39;lodash&#39;</span><span class="p">;</span>

<span class="o">//</span> <span class="n">Actions</span> <span class="ow">and</span> <span class="n">actions</span> <span class="n">types</span> <span class="n">defined</span> <span class="n">earlier</span><span class="o">.</span>
<span class="kn">import</span> <span class="o">*</span> <span class="k">as</span> <span class="n">actions</span> <span class="kn">from</span> <span class="s1">&#39;../actions/actions&#39;</span><span class="p">;</span>

<span class="o">/**</span> <span class="n">State</span> <span class="n">shape</span> <span class="n">of</span> <span class="n">the</span> <span class="n">reducer</span><span class="o">.</span> <span class="o">*/</span>
<span class="n">export</span> <span class="n">interface</span> <span class="n">State</span> <span class="p">{</span>
  <span class="n">name</span><span class="p">:</span> <span class="n">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">/**</span>
 <span class="o">*</span> <span class="n">Initial</span> <span class="n">state</span> <span class="n">of</span> <span class="n">the</span> <span class="n">reducer</span><span class="o">.</span>
 <span class="o">*</span> <span class="nd">@type</span> <span class="p">{</span><span class="n">State</span><span class="p">}</span>
 <span class="o">*/</span>
<span class="n">const</span> <span class="n">INITIAL_STATE</span><span class="p">:</span> <span class="n">State</span> <span class="o">=</span> <span class="p">{</span>
  <span class="n">name</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="p">};</span>

<span class="o">/**</span> <span class="n">Object</span> <span class="n">that</span> <span class="n">maps</span> <span class="n">action</span> <span class="n">types</span> <span class="n">to</span> <span class="n">their</span> <span class="n">reducer</span> <span class="n">functions</span><span class="o">.</span> <span class="o">*/</span>
<span class="n">const</span> <span class="n">reducers</span><span class="p">:</span> <span class="n">ReducerMap</span><span class="o">&lt;</span><span class="n">State</span><span class="p">,</span> <span class="nb">any</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{};</span>

<span class="o">/**</span>
 <span class="o">*</span> <span class="n">Updates</span> <span class="n">the</span> <span class="n">reducer</span> <span class="n">based</span> <span class="n">on</span> <span class="n">a</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="n">CHANGE_NAME</span> <span class="n">action</span><span class="o">.</span>
 <span class="o">*</span> <span class="nd">@param</span> <span class="n">state</span> <span class="n">Current</span> <span class="n">reducer</span> <span class="n">state</span><span class="o">.</span>
 <span class="o">*</span> <span class="nd">@param</span> <span class="n">action</span> <span class="n">CHANGE_NAME</span> <span class="n">action</span><span class="o">.</span>
 <span class="o">*</span> <span class="nd">@returns</span> <span class="p">{</span><span class="n">State</span><span class="p">}</span> <span class="n">Updated</span> <span class="n">reducer</span> <span class="n">state</span><span class="o">.</span>
 <span class="o">*/</span>
<span class="n">reducers</span><span class="p">[</span><span class="n">actions</span><span class="o">.</span><span class="n">CHANGE_NAME</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
  <span class="n">state</span><span class="p">:</span> <span class="n">State</span><span class="p">,</span>
  <span class="n">action</span><span class="p">:</span> <span class="n">actions</span><span class="o">.</span><span class="n">ChangeNameAction</span><span class="p">,</span>
<span class="p">):</span> <span class="n">State</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="o">//</span> <span class="n">This</span> <span class="n">checks</span> <span class="k">if</span> <span class="n">the</span> <span class="n">update</span> <span class="n">matches</span> <span class="n">some</span> <span class="n">of</span> <span class="n">the</span> <span class="n">state</span> <span class="n">shape</span><span class="o">.</span>
  <span class="n">const</span> <span class="n">update</span><span class="p">:</span> <span class="n">Partial</span><span class="o">&lt;</span><span class="n">State</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">action</span><span class="o">.</span><span class="n">payload</span><span class="p">,</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="n">_</span><span class="o">.</span><span class="n">assign</span><span class="p">({},</span> <span class="n">state</span><span class="p">,</span> <span class="n">update</span><span class="p">);</span>
<span class="p">};</span>

<span class="o">/**</span>
 <span class="o">*</span> <span class="n">Combined</span> <span class="n">reducer</span> <span class="kn">from</span> <span class="nn">reducer</span> <span class="nb">map</span><span class="o">.</span>
 <span class="o">*</span> <span class="nd">@type</span> <span class="p">{</span><span class="n">Reducer</span><span class="o">&lt;</span><span class="n">State</span><span class="p">,</span> <span class="nb">any</span><span class="o">&gt;</span><span class="p">}</span>
 <span class="o">*/</span>
<span class="n">export</span> <span class="n">const</span> <span class="n">reducer</span> <span class="o">=</span> <span class="n">handleActions</span><span class="o">&lt;</span><span class="n">State</span><span class="p">,</span> <span class="nb">any</span><span class="o">&gt;</span><span class="p">(</span><span class="n">reducers</span><span class="p">,</span> <span class="n">INITIAL_STATE</span><span class="p">);</span>
</pre></div>
</div>
<p>After creating a new reducer, link the State type to the main redux state shape in <strong>store.ts</strong> so that any references to the store state are type checked.</p>
</div>
</div>
</div>
<div class="section" id="directory-structure">
<span id="id3"></span><h2>Directory Structure<a class="headerlink" href="#directory-structure" title="Permalink to this headline">¶</a></h2>
<p>When creating new files, ensure that they fit into the logic outlined by the current directory structure.</p>
<div class="section" id="root">
<h3>Root<a class="headerlink" href="#root" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span>|── build/
|── sphinx-docs/
|── docs/
|── src/
|   |── express/
|   |── react/
|   └── scss/
|── webpack/
|   |── constants.js
|   |── constants.d.ts
|   |── webpack.dev.config.js
|   └── webpack.prod.config.js
|── constants.js
|── constants.d.ts
|── karma.conf.js
|── mocha.opts
|── tslint.json
└── typedoc.json
</pre></div>
</div>
<ul>
<li><p class="first"><strong>build:</strong> Generated code from the source files is output into this folder. This file is ignored by git to prevent any unnecessary conflicts. See <a class="reference internal" href="#directory-structure-build"><span class="std std-ref">Build</span></a> for more information.</p>
</li>
<li><p class="first"><strong>sphinx-docs:</strong> Source files for creating this read the docs folder.</p>
</li>
<li><p class="first"><strong>docs:</strong> Output folder for generated API documentation. This file is ignored by it to prevent any unnecessary conflicts.</p>
</li>
<li><p class="first"><strong>src:</strong> Source files for Cyclops that are compiled and output to the build folder. Currently contains 3 directories:</p>
<blockquote>
<div><ul class="simple">
<li><strong>express:</strong> Typescript files for the express server that surfaces the application. See <a class="reference internal" href="#directory-structure-express"><span class="std std-ref">Express</span></a> for more information.</li>
<li><strong>react:</strong> Typescript files for the single page application that displays Cyphon data. See <a class="reference internal" href="#directory-structure-react"><span class="std std-ref">React</span></a> for more information.</li>
<li><strong>scss:</strong> Sass files for the applications main css file. See <a class="reference internal" href="#directory-structure-scss"><span class="std std-ref">SCSS</span></a> for more information.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>webpack:</strong> Webpack configuration files.</p>
<blockquote>
<div><ul class="simple">
<li><strong>constants.js:</strong> Base webpack configuration.</li>
<li><strong>constants.d.ts:</strong> Typescript definitions for the base webpack configuration.</li>
<li><strong>webpack.dev.config.js:</strong> Webpack configuration for a developer environment.</li>
<li><strong>webpack.prod.config.js:</strong> Webpack configuration for a production environment.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>constants.js:</strong> Constants that are used by multiple configuration files that mainly pertain to directory paths and file names. Use the constants in this file whenever trying to create directory paths for configuration files.</p>
</li>
<li><p class="first"><strong>constants.d.ts:</strong> Typescript definition file for the constants so it can be used in any of the Typescript code bases.</p>
</li>
<li><p class="first"><strong>cyclops.env:</strong> Cyclops environment variables created whenever the express server is run. This is used for configuring the express server for runtime. Ignored by git due to the possibility of sensitive information.</p>
</li>
<li><p class="first"><strong>cyclops.env.COPYME:</strong> Outline of the possible environment variables that can be created for cyclops.env.</p>
</li>
<li><p class="first"><strong>typedoc.json:</strong> Typescript configuration file used for creating the API documentation.</p>
</li>
</ul>
</div>
<div class="section" id="react">
<span id="directory-structure-react"></span><h3>React<a class="headerlink" href="#react" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span>|── api/
|   └── endpoint/
|       |── _tests_/
|       |── api.ts
|       |── constants.ts
|       |── schema.ts
|       |── types.ts
|       └── utils.ts
|── components/
|   └── _tests_/
|── services/
|   └── service
|       |── components/
|       |   └── _tests_/
|       |── utils/
|       |   └── _tests_/
|       |── types.ts
|       └── constants.ts
|── types/
|   └── types.ts
|── typings/
|   └── typing.d.ts
|── utils/
|   |── _tests_/
|   └── utility.ts
|── views/
|   └── view/
|       |── actions/
|       |   └── _tests_/
|       |── components/
|       |   └── _tests_/
|       |── containers/
|       |   └── _tests_/
|       |── reducers/
|       |   └── _tests_/
|       |── utils/
|       |   └── _tests_/
|       |── constants.ts
|       └── types.ts
|── app.tsx
|── config.ts
|── store.ts
└── tsconfig.json
</pre></div>
</div>
<ul>
<li><p class="first"><strong>_tests_:</strong> See <a class="reference internal" href="#directory-structure-tests"><span class="std std-ref">Tests</span></a>.</p>
</li>
<li><p class="first"><strong>api:</strong> Contains files that connect to the Cyphon API. It&#8217;s subdirectory&#8217;s are correlated to the root of the Cyphon API to easily locate where endpoint types and functions live. Each subdirectory is named after the API url and can contains these files:</p>
<blockquote>
<div><ul class="simple">
<li><strong>api.ts:</strong> Functions that gets or sends information to the API endpoint.</li>
<li><strong>constants.ts:</strong> Constants for this endpoint.</li>
<li><strong>schemas.ts:</strong> Normalizr schema&#8217;s used to created normalized data from the objects returned from this endpoint.</li>
<li><strong>types.ts:</strong> Object types returned from this endpoint.</li>
<li><strong>utils.ts:</strong> Helper functions for objects returned from this endpoint.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>components:</strong> Contains react components that are reused across the application.</p>
</li>
<li><p class="first"><strong>services:</strong> Related react components and utilities that are reused across the application. Each subdirectory can contain these directories and file names:</p>
<blockquote>
<div><ul class="simple">
<li><strong>components:</strong> React components for this service.</li>
<li><strong>utils:</strong> Helper functions for this service.</li>
<li><strong>constants.ts:</strong> Constants used for this service.</li>
<li><strong>types.ts:</strong> Interfaces/Types used for this service.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>types:</strong> Interfaces/Types used across the application.</p>
</li>
<li><p class="first"><strong>typings:</strong> Typescript definition files for 3rd party libraries that are not located in the DefinitelyTyped github repository.</p>
</li>
<li><p class="first"><strong>utils:</strong> Helper functions used across the entire application.</p>
</li>
<li><p class="first"><strong>views:</strong> Related react components and utilities that are specific to a particular route defined in react-router. Each subdirectory should be named for the route in the router definition and contain these directories and file names:</p>
<blockquote>
<div><ul class="simple">
<li><strong>actions:</strong> Redux actions related to this view. Files in this directory should follow the style referenced here: <a class="reference internal" href="#code-style-typescript-redux-actions"><span class="std std-ref">actions</span></a>.</li>
<li><strong>components:</strong> React components related to this view.</li>
<li><strong>containers:</strong> Redux containers related to this view.</li>
<li><strong>reducers:</strong> Redux reducers related to this view. Files in this directory should follow the style referenced here: <a class="reference internal" href="#code-style-typescript-redux-reducer"><span class="std std-ref">reducer</span></a>.</li>
<li><strong>utils:</strong> Helper functions used in this view.</li>
<li><strong>constants.ts:</strong> Constants used in this view.</li>
<li><strong>types.ts:</strong> Interfaces/Types used in this view.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>app.tsx:</strong> Webpack entry point for the react application, redux connector, and react-router configuration. Subdirectories in the views directory should match the router configuration in here. New routes should be configured here.</p>
</li>
<li><p class="first"><strong>config.ts:</strong> Configuration for the react application that is injected from the express server.</p>
</li>
<li><p class="first"><strong>store.ts:</strong> Redux store for the application.</p>
</li>
<li><p class="first"><strong>tsconfig.json:</strong> Typescript configuration for the react application.</p>
</li>
</ul>
</div>
<div class="section" id="express">
<span id="directory-structure-express"></span><h3>Express<a class="headerlink" href="#express" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span>|── controllers/
|   └── _tests_
|── middlewares/
|   └── _tests_/
|── static/
|── typings/
|── utils/
|   └── _tests_/
|── views/
|── constants.ts
|── server.ts
|── tsconfig.json
└── types.js
</pre></div>
</div>
<ul class="simple">
<li><strong>_tests_:</strong> See <a class="reference internal" href="#directory-structure-tests"><span class="std std-ref">Tests</span></a>.</li>
<li><strong>controllers:</strong> Controllers that handle the different routes of the server. Files in this directory should follow he style referenced here: <a class="reference internal" href="#code-style-express-router"><span class="std std-ref">Express Router</span></a>.</li>
<li><strong>middlewares:</strong> Express middleware.</li>
<li><strong>static:</strong> Static assets that are served at the url <code class="docutils literal"><span class="pre">/static/</span></code>.</li>
<li><strong>typings:</strong> Typescript definition files for 3rd party libraries that are not located in the DefinitelyTyped github repository.</li>
<li><strong>utils:</strong> Helper functions.</li>
<li><strong>views:</strong> Route templates.</li>
<li><strong>constants.ts:</strong> Constants used across the server.</li>
<li><strong>server.ts:</strong> Express server startup.</li>
<li><strong>tsconfig.json:</strong> Typescript configuration for the express server.</li>
<li><strong>types.js</strong> Type definitions for the server.</li>
</ul>
</div>
<div class="section" id="tests">
<span id="directory-structure-tests"></span><h3>Tests<a class="headerlink" href="#tests" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span>└── (directory)/
    |── _tests_/
    |   |── file.spec.ts
    |   └── component.spec.tsx
    |── file.ts
    └── component.ts
</pre></div>
</div>
<p>You might notice a few directories in <a class="reference internal" href="#directory-structure-react"><span class="std std-ref">React</span></a> and <a class="reference internal" href="#directory-structure-express"><span class="std std-ref">Express</span></a> with directories named <code class="docutils literal"><span class="pre">_tests_</span></code>. These store tests for files in that directory. The test file name should be the same as the file it&#8217;s testing, but it should be suffixed with <code class="docutils literal"><span class="pre">.spec.ts</span></code> or <code class="docutils literal"><span class="pre">.spec.tsx</span></code>. The suffix depends on if the file contains any JSX in it. This structure keeps the directory from becoming polluted with spec files. See <a class="reference internal" href="#id4"><span class="std std-ref">Testing</span></a> for more info.</p>
</div>
<div class="section" id="scss">
<span id="directory-structure-scss"></span><h3>SCSS<a class="headerlink" href="#scss" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span>|── base/
|   |── _bootstrap.scss
|   |── _colors.scss
|   |── _globals.scss
|   └── _typography.scss
|── components/
|── pages/
└── app.scss
</pre></div>
</div>
<ul>
<li><p class="first"><strong>base:</strong> Global configuration of the stylesheet.</p>
<blockquote>
<div><ul class="simple">
<li><strong>_bootstrap.scss:</strong> Imports, variables, and overrides for twitter bootstrap.</li>
<li><strong>_colors.scss:</strong> Colors used throughout the stylesheet.</li>
<li><strong>_globals.scss:</strong> Global css rules.</li>
<li><strong>_typography.scss:</strong> Typeography for the stylesheet.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><strong>components:</strong> Styling for components that are reused throughout the application.</p>
</li>
<li><p class="first"><strong>pages:</strong> Styling for specific pages.</p>
</li>
<li><p class="first"><strong>app.scss:</strong> File that glues all the scss partials together.</p>
</li>
</ul>
</div>
<div class="section" id="build">
<span id="directory-structure-build"></span><h3>Build<a class="headerlink" href="#build" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span>|── express/
|── static/
|   └── css/
|       └── main.css
└── webpack/
    |── bundles/
    └── fonts/
</pre></div>
</div>
<ul class="simple">
<li><strong>express:</strong> Compiled javascript from the express Typescript files in <code class="docutils literal"><span class="pre">src/express</span></code>. The directory structure should be exactly the same, which is <strong>SUPER IMPORTANT</strong> because the compiled javascript references constants from the root <code class="docutils literal"><span class="pre">constants.js</span></code> and the webpack <code class="docutils literal"><span class="pre">webpack/constants.js</span></code>. If you move <code class="docutils literal"><span class="pre">src/express</span></code> from where it currently is, it will break the server.</li>
<li><strong>static:</strong> Compiled static assets are placed here. Right now it only holds the compiled sass stylesheet.</li>
<li><strong>webpack:</strong> Compiled webpack bundles and assets are placed here.</li>
</ul>
</div>
</div>
<div class="section" id="testing">
<span id="id4"></span><h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ npm run test
</pre></div>
</div>
<p>This command runs all the testing commands for the application.</p>
<p>All tests use <a class="reference external" href="https://mochajs.org/">Mocha</a> as the testing framework, use <a class="reference external" href="http://chaijs.com/">Chai</a> as the assertion library, and uses <a class="reference external" href="http://sinonjs.org/">Sinon</a> for mocking.</p>
<p>See <a class="reference internal" href="#directory-structure-tests"><span class="std std-ref">Tests</span></a> for information on where to place test files and how to name them.</p>
<div class="section" id="tests-react">
<span id="id5"></span><h3>React<a class="headerlink" href="#tests-react" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ npm run test:react
</pre></div>
</div>
<p>This command looks for files in <code class="docutils literal"><span class="pre">src/react</span></code> that end with <code class="docutils literal"><span class="pre">.spec.ts</span></code> or <code class="docutils literal"><span class="pre">.spec.tsx</span></code> and runs them through <a class="reference external" href="https://karma-runner.github.io/1.0/index.html">Karma</a> using the config file <code class="docutils literal"><span class="pre">karma.conf.js</span></code> at the root of the project.</p>
<p>Any react component tests use <a class="reference external" href="http://airbnb.io/enzyme/">Enzyme</a> for shallow rendering.</p>
</div>
<div class="section" id="tests-express">
<span id="id6"></span><h3>Express<a class="headerlink" href="#tests-express" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ npm run test:express
</pre></div>
</div>
<p>This command looks for files in <code class="docutils literal"><span class="pre">src/express</span></code> that end with <code class="docutils literal"><span class="pre">.spec.ts</span></code> and runs them through <a class="reference external" href="https://mochajs.org/">Mocha</a> using the config file <code class="docutils literal"><span class="pre">mocha.opts</span></code> at the root of the project.</p>
</div>
</div>
<div class="section" id="development-environment">
<h2>Development Environment<a class="headerlink" href="#development-environment" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ npm run dev
</pre></div>
</div>
<p>Running this command will start a couple of concurrent processes that make it easier to develop Cyclops. Whenever you make changes to the express source code, it restarts the server. Whenver you make changes to the react or scss source code, it sends a livreload request to the browser asking it to reload the webpage.</p>
</div>
<div class="section" id="npm-tasks">
<h2>NPM Tasks<a class="headerlink" href="#npm-tasks" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>build:css:</strong> Compiles the scss files from <code class="docutils literal"><span class="pre">src/scss/app.scss</span></code> into <code class="docutils literal"><span class="pre">build/static/css/main.css</span></code> including the path <code class="docutils literal"><span class="pre">node_modules/bootstrap-sass/assets/stylesheets</span></code> for bootstrap imports.</li>
<li><strong>build:express:</strong> Compiles the Typescript files from <code class="docutils literal"><span class="pre">src/express</span></code> using <code class="docutils literal"><span class="pre">src/express/tsconfig.json</span></code>.</li>
<li><strong>watch:css:</strong> Runs <code class="docutils literal"><span class="pre">build:css</span></code>, then watches <code class="docutils literal"><span class="pre">src/scss`</span> <span class="pre">for</span> <span class="pre">changes.</span> <span class="pre">When</span> <span class="pre">it</span> <span class="pre">detects</span> <span class="pre">a</span> <span class="pre">change,</span> <span class="pre">it</span> <span class="pre">runs</span> <span class="pre">``build:css</span></code> again.</li>
<li><strong>watch:express:</strong> Runs <code class="docutils literal"><span class="pre">build:express</span></code> in watch mode so it compiles on change.</li>
<li><strong>server:dev:</strong> Runs <code class="docutils literal"><span class="pre">build/express/server.js</span></code> with nodemon watching <code class="docutils literal"><span class="pre">build/express</span></code> for changes and with NODE_ENV set to DEV.</li>
<li><strong>server:prod:</strong> Runs <code class="docutils literal"><span class="pre">build/express/server.js</span></code> with NODE_ENV set to PROD.</li>
<li><strong>webpack:prod:</strong> Runs webpack using tools to minify the file output.</li>
<li><strong>webpack:dev:</strong> Runs webpack in watch mode.</li>
<li><strong>test:react:</strong> Runs Karma once using <code class="docutils literal"><span class="pre">karma.conf.js</span></code>.</li>
<li><strong>test:express:</strong> Runs mocha using <code class="docutils literal"><span class="pre">mocha.opts</span></code>.</li>
<li><strong>test:</strong> Runs <code class="docutils literal"><span class="pre">npm</span> <span class="pre">run</span> <span class="pre">test:express</span></code> and <code class="docutils literal"><span class="pre">npm</span> <span class="pre">run</span> <span class="pre">test:react</span></code>.</li>
<li><strong>docs:</strong> Builds API documentation using typedoc and <code class="docutils literal"><span class="pre">typedoc.json</span></code> as the tsconfig file.</li>
<li><strong>livereload:</strong> Starts a livereload server that sends a signal whenever there&#8217;s a change in either <code class="docutils literal"><span class="pre">build/static</span></code> or <code class="docutils literal"><span class="pre">build/webpack</span></code>.</li>
<li><strong>clean:</strong> Deletes the <code class="docutils literal"><span class="pre">build</span></code> directory.</li>
<li><strong>build:</strong> Cleans the <code class="docutils literal"><span class="pre">build</span></code> directory, then compiles the express, react, and scss files into the <code class="docutils literal"><span class="pre">build</span></code> directory.</li>
<li><strong>dev:</strong> Cleans the <code class="docutils literal"><span class="pre">build</span></code> directory, compiles the source code, watches for changes so it can recompile, and sends a livereload signal whenever it&#8217;s finished compiling.</li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="license.html" class="btn btn-neutral float-right" title="License" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="getting-started/configuration.html" class="btn btn-neutral" title="Configuration" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017 Dunbar Security Solutions, Inc..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/js/cyphon.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>